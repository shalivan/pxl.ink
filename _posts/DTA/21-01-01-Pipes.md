---
title: Pipes

categories:
 - DTA
 - HOU
tags:
- CG
- Configs
- Pipelines
- Data
description: Pipelines
permalink: /pipes/
---


# Setup   
Setup before work standarize units:
- Scale:
  - set up scale and orient
- Time:   
  - FPS rate in software's
  - Sub steps / Sub time in solvers
- [Comon Resolutions](/res/)

Pipelines:
- Create libraries:          
  - library files &  - asset files. USD

Bottlenecks:
- Switching paradigms (tools and workflows)
- Exporting / Importing files
- Not standardized naming conventions

#  H setup

- desktop .desk
- radial menu
- theme  /config/theme.hcs /inc
- color palete /config/colors.def
- 123.py - default scene change


- Windows: `C:\Users\username\Documents\houdini19.0`
- OSX: `~/Library/Preferences/houdini/houdini19.0`
- Linux: `$HOME/houdini19.0`

**Environment**
 - .env file   
  - PDG_IMAGEMAGICK=/Applications/ImageMagick-7.0.8/bin/magick  
  - PDG_FFMPEG= ""  
  - CURVES IN EDITOR: python2.7libs fcurves.py 3 files / HSITE = ""     

**Packages**
  - newer is `/houdini19.0/packages/` folder - can be many files
    - create .json file

**DefaultScene**
 - `Houdini 19.5.xxx/houdini/scripts/123.cmd` or create: `123.py` with python code: `hou.hipFile.merge("..path/to/default/file/file.hip")`

# Paths

- All Assets are folders named after Object Container
- Modeling in _geo, then import to other Object !!!!!! OR start node with big Letter !

### Paths
type of cache
- cache for **sim anim** thet can be deleted OTHER FOR HEAVY CACHE IN SEPARATED CATALOGUE
- cache for next steps in process - necessery
- cache temps. -  raw source files and early preparation / neeeded to recreate file

$HIP/cache
$HIP/temp


|Exports, Cache||
|---|---|
| Export | ```$HIP/`opname("..")`/export/$OS.fbx``` |  
| Cache |```$HIP/`opname("..")`/cache/``` v1/w0/$OS.bgeo.sc  |     
|**Bake**|
| Maps Bake |```$HIP/`opname("..")`/export/bake/${OS}/${OS}_$(CHANNEL).tga``` |   
|**Game**|
|TextureSheet / MorionVector seqence | ```$HIP/`opname("..")`/export/bake/${OS}_sequence/``` |      
|TextureSheet / MorionVector | ```$HIP/`opname("..")`/export/bake/``` |  
|Heightfields | ```$HIP/`opname("..")`/export/heightfields/$OS/``` |
|Vertex Anims ROP |```$HIP/`opname("../..")`/export/vat_$OS``` |       
|Niagara | ``` $HIP/`opname("..")`/export/niagara/$OS.hbjson ``` |
|Impostors| ```$HIP/`opname("..")`/export/${OS}_impostor/sequence/${OS}.$F4.exr``` |
|Impostors| ```$HIP/`opname("..")`/export/${OS}_impostor/${OS}_beauty.exr``` |
|**KineFx**|
|FBX Character Export | ```$HIP/.... .fbx```
|FBX Animation Output | ```$HIP/.... .fbx```  
|**Vellum** |
|Vellum cache | ```$HIP/cache/...```
|**COP**|
|COP image | ```$HIP/`opname("..")`_cop/${OS}.exr```
|Embeded assets| opdef:/Sop/...



|||
|---|---|
|Name from attribute|$HIP/`details("../filecache1","attribute1")`.fbx
|offset 0010-0260  |$HIP/name.`padzero(4,$F-10)`.png  
|range loop 0000-0250 |$HIP/name.`padzero(4,$F%251)`.png    
|range loop 0050-0300 |$HIP/name.`padzero(4,($F-50)%251+50)`.png    
|hold first |$HIP/name.`padzero(4,min($F,250)`.png   
|hold last|$HIP/name.`padzero(4,max($F,1)`.png      
|clamp|$HIP/name.`padzero(4,clamp($F,1,250))`.png  



### Enviroment

- `$HIPNAME.hip`  
- `$HIP/raw/` - Sources     
- `$HIP/ref/` - References      
- `$HIP/ObjectA_geo/`
  - `/export/v1/w0/`
    - `fileA.fbx` -     
    - `fileA_lod1.fbx`  
    - `fileA_lo.fbx`
    - `fileA_hi.fbx`
    - `fileA_locage.fbx`
    - `fileA_paint.fbx`
    - `/bake/fileA/fileA_channel.png`        
    - `/niagara/` -     
  - `/cache/`  
  - `/zbrush/fileA.ztl` - Tool (ctrl shift T)  
  - `/material/fileA.sbs` - Substance     Designer / Painter          
  - `/material/fileA.png` - Export    / in same folder as  spp/sbs   



tylko koncowki dobe
$HIP/render/`$OS`_hi.fbx
$HIP/render/`$OS`_lo.fbx
$HIP/render/$(CHANNEL)`chs("udimsuffix")`.png

##### Sufixes

- **Mesh Parts** - A B C D
- **Maps Channels**
- diffuse (2.2) / albedo `cd`
- opacity `a` / alpha (fill) `a`
- roughness `rg`
- specular `sc`
- metallic `me`
- normal `nm`/ worldnormal `wn`
- ao (2.2) `ao` / `bn` bent normal
- thickness `th`
- curvature `cv`
- height (range EXR) `h`
- position `p` /  world position `wp`
- materialid `id`


---
# Unreal Import

||SM (def)|VA3||SK|PP2|
|---|---|---|---|---|---|
Skeletal Mesh | | | |On| -
Generate Missing Collision | ||||-
Staticm MeshLODGroup | ||||-
Vert Color |  |Repleace|||Repleace|
Remove Degenerates || | x|| -
Building Adjacency Buffer | || x|| -
Building Reversed Index Buffer | | | x|| -
Generate Lightmap UVs | ||||-
One Convex Hull per UCX | || x||-
Combine Meshes | || x||-
Transform Vertex to Absolut | |On| x|| ?
Import Mesh LOD's || depending on Houdini |||-
Normal Import |  |Import Nm & Tang| Import Nm || ImportNm
Normal Generation | || Mikk TSpace||-
Compute Weighted Normal || | x || -
|.|
Transform|  |1| ||-
|.|
Convert Scene |  |On| x || On
Force Front XAxis  | || || x
Convert Scene to Unit | ||||-
Override Full Name | |On| x||-
|.|
Material | ||||-
Reorder mat to fbx |  | On|||-

with skeleton - update skeleton reference pose - !!!!!!!!! important

##### read verticles uv
veets on Smooth edges, no uvs = 100% vertex  
`hard edges` - make new vert count
`uv` - also contribute.
hard edges should be where uvs - (ver count)
`vertex color` - to memory cost but not vertex cost.
'rendering passes' - (occl, shadow depths, shadow projection)


# Houdini Import

- SOP Character FBX Import - keeps textures hierarchies blendshapes cameras
- SOP File - fastest
- Labs FBX - slow like file menu import

Materials:
- by default as principledshaders
---

# Collision

- `UCX_*` - from houdini need to be in separated containers  named UCX_nameOfGeoContainer. - object level  (make container !!! and ROPnet > fbx)  
# Attributes

Base
- `v@N` (vert) -  
- `@P`, `v@rest`, `v@Cd`, `i@id`, `@Alpha` (point)  
- `s@shop_materialpath` (prim) - only material parameters of those belonging to the /nodes/shop/principledshader shader are recognized
- `s@fbx_material_name` (prim)
- `@material_override`

Manage
- `s@name` (prim) -  , joints names
- `i@class` (prim) -  , reserved to connectivity   
- `i@id` -  particles, ctrl points for animation     
- `s@tag` - string in new scatter, tree
- `i@variation` - copy to point / new scatter

Uv
- `v@uv` (vert)
- `v@uv1` (vert)
- `i@udim=1001;` (prim)
- `i@island=3;` (prim)  


Character FBX   
- `@boneCapture` (point) on the skin geometry - defines the skinning weights.  
- `@clipinfo` (point) Current animation range and sample rate as well as the original animation range and sample rate of the imported animation.   
- `s@name` (point) - unique name across all points used for identification. (only used if the `path` point is missing).  
- `@path` (point) hierarchical path of FBX node that corresponds to the point. It is created when FBX files are imported by the FBX Animation Import or FBX Character Import nodes. This path is used to identify where to export the point transforms.  
- `@scaleinheritance` (point) specifies the scaling behavior when performing local transformations. See combinelocaltransform and extractlocaltransform  
- `@transform` (point) 3×3 matrixworld transform for the point. While the world position of the point is still P, this transform encodes the world transform’s rotation, scale, and shear components.  





# Digital Assets

#### Asset node
RMB on node >
- `Create digital Asset`...  
- `Digital Asset` >
  - create new:  
  - preferences:   

- `Digital Asset` >
  - save ass
  - increase major

- `Allow Editing`
- `Match Definition`
- ``

----

---

# HQueque

1. Instal
 - HQueque Client
 - HQueque Server
2. go to services > properties: login to network
3. go to localhost:5000
 -  
4. Share forlder
 - folder properties: advance sharing, - permitions:
5. hqserver.ini
 - to jest config, can send mails, folder configs
6. licencje
7. Houdini
 - Taget HFS
   - $HQROOT - basic path
---


# Linux setup

### Run Houdini on ubuntu

1. `source houdini_setup` The Houdini 19.0.589 environment has been initialized.
2. `export LD_PRELOAD="/lib/x86_64-linux-gnu/libc_malloc_debug.so.0"`
3. `houdini`


- `sudo apt update`   
- `sudo apt install ffmpeg`   
- `sudo apt install imagemagick`   


# P4
- `Accept Source` GEt clean file from repo, discarding your changes.  
- `Accept Target` Accepts the file local, overwriting repo.  


# Atom

ctrl + t  =  search file names   
ctrl + f  =  search    
ctrl + shift + f = in whole project    
ctrl + /  =  show tree   


http://fxnomemo.blogspot.com/2021/04/houdini-workflow.html

Using file cache with rop geo TOP. with sequences choose automatic

# Naming Conventions
- camelCase, CapitalCamelCase - in pascal   
- flatcase  
- caterpillar-case - css
- snake_case - c  
- MACRO_CASE, UPPER_CASE -  (C preprocessor macros)   
- COBOL-CASE, TRAIN-CASE -     
- python vars
- code names (hard to see space)

- Use `_` to separate parameters in names.



----------

Syntax - red green yellow      
Semantic - green=go, red=stop    
Paradigm -  If red and no traffic then allowed to go     

code syntax
structuring
understand machinery
