---
title: Karma

categories:
 - HOU
tags:
- Rendering
- Houdini
- Shaders
description: renderer
permalink: /karma/
---

[LOP](/lop/)


`SHIFT` + `R` = >> to karma


#### Outputs

- `MPlay` - can set up to send to MPlay
- `Driver` - Progressive / Buckets (with progresisve passes +1 ) fastest way tofrist pixel

# Karma render options
1. turn off indirect and get direct light clean (if note it will continue spreading wrong resoults)
2. Sometimes render x2 resolution but 1/2 samples > deniose > scale down get sharpen edges and more details with same times.  (especially for motion). Works only because of noise consistency Karma is producing.
3. sequences

### Karma sampling

#### Pixel samples
Main quality driver.    
Values: 32 - acceptable / 128 - clean    
**Render Times**: Predictable - doubles when param doubles.  and have linear relation with render size
#### Indirect rays
How much samples shot from shading point
- `Path Traced` - progressive like in viewport (not final )
- `Distributed` - Ability to change on types - so in specific situations when scene have one type of rays
- `Variance` -  Min Max - treshold ! advanced tab > noise level is  drivng min and max. lower noise level  will shoot more max 0.005 very clean.   
    - Min -
    - Max - 9 / 12 / 30 - Small increase in render times. But pixel sample is doing more cleaning.

#### Light quality
Global multiplayer. Specific setups in light actors directly.
(Light Tree seems be faster )
1- minimum to work but its ok. No need to increase in simple scenarios

#### Volumes



#### Noise levels
Fine detail levels  
- 0.02 noisy / 0.01 default / 0.005 max / below its not super cleaner (not shooting more rays)
Render times can increas much

#### Oracle
Variance pixel samples, based on  noise level at selected rendre pass (ie. beauty pass) during rendering
Will ignore darker values more. If noise is everywhere oracle will go to max pix samples
(Amount ovf variance that trigers more rays )
Pixel sample thershold
Im wię◙kszy tym wiekszy musi byc noise zeby odpalił dodatkowe raye
- varaince  like in min/max

Turn of by setting to `uniform`


---


#### Dicing
Effect on pieces we don't see that is reflected or use indirect ilu.
Multiply - for reflection and refraction & displacement.
Default ok.


#### Indirect  Guide

Can optimize indirect bounces
Will initialize with pre pass
- not big quality difference. - expensive not always change q.


#### Russian Roulette
Killing some samples in every next bounce. Value is number of bounce when to start reducing. Its good to use cause after 2 bounce rays ale much less important. At 0 will kick of quickly and produce noise.



#### Limit tab

Bounces GI - 3 is enough for sky (is slow and more change not so much) / for sunlight will change  


----




#### Denoise
Need 2 addditional passes, `Albedo`, `N`

Cop2:
1. File (load render passes)
2. Denoise AI  
How low samples can use with denoise
3. scale down
----------------------

Image output > ilters > Denmoiser
OCIO (open color) Add 1
 - Output space 'ACES - ACEScg'
 - Input Space: data

----------------------

# Lights

interior render with area lights in windows
sky dome especially with texture is harder to calculate

`aera lights`- not better than doom but direct tan be little bit cleaner.

`portal lights` - to focus render but same quality in karma not huge effect

# Shading



`Lens Shader` - inside camera use lens shade (must be mat context not material lib )  - can add distortion and aberration



When light hit surface it can be:
- reflection
- absorption
- transmission


Pyro shaders are ok

## Shaders


## MaterialX
.mtlx

- `material standard surface` -
- `mtlxUsdPrimvarReader` - bind attribs/ get attrib
- `mtlxfractal3d` - noise



### Principal shader


### Other

usd previews surfaces - poor only for usd   
kma_pyro preview - karma pyro for XPU


## Features




#### Diffuse
#### Albedo
#### Base Color
Albedo multip: - sth with absorbtion

#### Specular
- any point of surface

- dielectric: 2-8%
- semi-conductor  8-40$
- metal - 40 +
#### Fresnel
- at any angle  (Is spec refl !)

#### Roughness

-----

#### Absorption
we see colors throughh absorption (color are absorbed by heat)

 BLACK BODY IS NOT ONLY A PERFECT ABSORBER BUT ALSO A PERFECT emitter of heat. Hence the black container will cool down faster.


 Dark-colored materials absorb visible light better than light-colored materials. That's why the dark side of the card heats up first.


### IOR
for dielectric ~1.3

RefractiveIndex.Info
PixelAndPoly.com

higher ior is , slower light will travel .
bend on border of values

### Anisotropic
directional refl

### Sheen
subtle dif rough

### Corat
double highlights


#### transparency
- ray limitatins - up refl and refr limits
if black resoults to low limits

### Sub Surf
single scattering - like a marble. will soften a shadows
random walk -new one

#### Tansparency
- transmition @ distance (at what distance will be fully trans. color ) : how its color wwhen going throu medium


-0--
###### lambertian reflection
All diffuse is technicaly subsurface but not visible
water based body liki skin have deeper

----




more dense mats ~ more ior > so more spec
